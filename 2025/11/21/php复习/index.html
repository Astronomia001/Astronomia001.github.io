<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>PHP复习 | Astronomia001's blog</title><meta name="author" content="Astronomia001"><meta name="copyright" content="Astronomia001"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第3讲 JavaScript基础  3.1 JavaScript简介  基本概念  JavaScript是一种网页脚本语言，与Java完全不同（语法类似但无关）。 代码可直接嵌入HTML页面，由浏览器解释执行。   第一个JavaScript程序  大小写敏感：与Java一致。 注释方式：  HTML注释：&lt;!--注释内容--&gt; 单行注释：&#x2F;&#x2F;注释内容 多行注释：&#x2F;*注释内容*&#x2F;">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP复习">
<meta property="og:url" content="http://astronomia001.github.io/2025/11/21/php%E5%A4%8D%E4%B9%A0/index.html">
<meta property="og:site_name" content="Astronomia001&#39;s blog">
<meta property="og:description" content="第3讲 JavaScript基础  3.1 JavaScript简介  基本概念  JavaScript是一种网页脚本语言，与Java完全不同（语法类似但无关）。 代码可直接嵌入HTML页面，由浏览器解释执行。   第一个JavaScript程序  大小写敏感：与Java一致。 注释方式：  HTML注释：&lt;!--注释内容--&gt; 单行注释：&#x2F;&#x2F;注释内容 多行注释：&#x2F;*注释内容*&#x2F;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s3.bmp.ovh/imgs/2024/10/12/ab3f0e20e95418fd.jpg">
<meta property="article:published_time" content="2025-11-21T01:29:28.000Z">
<meta property="article:modified_time" content="2025-11-21T02:54:33.950Z">
<meta property="article:author" content="Astronomia001">
<meta property="article:tag" content="基础知识储备">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s3.bmp.ovh/imgs/2024/10/12/ab3f0e20e95418fd.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://astronomia001.github.io/2025/11/21/php%E5%A4%8D%E4%B9%A0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'PHP复习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-11-21 10:54:33'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s3.bmp.ovh/imgs/2024/10/12/ab3f0e20e95418fd.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Astronomia001's blog"><span class="site-name">Astronomia001's blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">PHP复习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-11-21T01:29:28.000Z" title="发表于 2025-11-21 09:29:28">2025-11-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-11-21T02:54:33.950Z" title="更新于 2025-11-21 10:54:33">2025-11-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/basic-knowledge/">basic knowledge</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="PHP复习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><div class="top-img gist" style="background-image: url(/null)"></div><article class="post-content" id="article-container"><h3 id="第3讲-javascript基础"><a class="markdownIt-Anchor" href="#第3讲-javascript基础"></a> <strong>第3讲 JavaScript基础</strong></h3>
<h4 id="31-javascript简介"><a class="markdownIt-Anchor" href="#31-javascript简介"></a> <strong>3.1 JavaScript简介</strong></h4>
<ol>
<li><strong>基本概念</strong>
<ul>
<li>JavaScript是一种网页脚本语言，与Java完全不同（语法类似但无关）。</li>
<li>代码可直接嵌入HTML页面，由浏览器解释执行。</li>
</ul>
</li>
<li><strong>第一个JavaScript程序</strong>
<ul>
<li><strong>大小写敏感</strong>：与Java一致。</li>
<li><strong>注释方式</strong>：
<ul>
<li>HTML注释：<code>&lt;!--注释内容--&gt;</code></li>
<li>单行注释：<code>//注释内容</code></li>
<li>多行注释：<code>/*注释内容*/</code></li>
</ul>
</li>
<li><strong>代码嵌入方式</strong>：
<ul>
<li>直接在HTML中用<code>&lt;script&gt;</code>标签嵌入。</li>
<li>外部文件：创建<code>.js</code>文件，通过<code>&lt;script src=&quot;code.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</code>引入。</li>
</ul>
</li>
</ul>
</li>
<li><strong>JavaScript语法</strong>
<ul>
<li><strong>变量定义</strong>：
<ul>
<li>弱类型变量，用<code>var</code>声明（如<code>var arg</code>）。</li>
<li>类型由赋值决定（字符串、数组等）。</li>
<li><strong>注意</strong>：未声明变量可能引发错误，建议先声明后使用。</li>
</ul>
</li>
<li><strong>函数定义</strong>：
<ul>
<li>标准格式：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> 函数名(参数列表) &#123;</span><br><span class="line">    <span class="keyword">return</span> 值;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>匿名函数：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arg1 = <span class="keyword">function</span>(<span class="params">参数列表</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> 值;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h4 id="32-javascript内置对象"><a class="markdownIt-Anchor" href="#32-javascript内置对象"></a> <strong>3.2 JavaScript内置对象</strong></h4>
<ol>
<li><strong>常用内置对象</strong>
<ul>
<li><strong>window</strong>：操作浏览器窗口（状态、开闭等）。</li>
<li><strong>document</strong>：操作HTML文档（从属window）。</li>
<li><strong>history</strong>：访问浏览历史（从属window）。</li>
<li><strong>location</strong>：操作地址栏（从属window）。</li>
</ul>
</li>
<li><strong>window对象</strong>
<ul>
<li><strong>提示框</strong>：
<ul>
<li><code>alert(&quot;内容&quot;)</code>：消息框。</li>
<li><code>confirm(&quot;内容&quot;)</code>：确认框（返回<code>true</code>/<code>false</code>）。</li>
<li><code>prompt(&quot;内容&quot;,默认值)</code>：输入框（返回输入值或<code>null</code>）。</li>
</ul>
</li>
<li><strong>窗口操作</strong>：
<ul>
<li><code>open(&quot;地址&quot;, &quot;窗口名&quot;, &quot;状态属性&quot;)</code>：打开新窗口。
<ul>
<li>状态属性：<code>toolbar</code>（工具栏）、<code>location</code>（地址栏）、<code>width/height</code>（尺寸）等。</li>
</ul>
</li>
<li><code>close()</code>：关闭窗口。</li>
</ul>
</li>
<li><strong>定时器</strong>：
<ul>
<li><code>setTimeout(&quot;函数&quot;, 毫秒)</code>：定时执行。</li>
<li><code>clearTimeout(timer)</code>：清除定时器。</li>
</ul>
</li>
</ul>
</li>
<li><strong>history对象</strong>
<ul>
<li><code>back()</code>：后退一页。</li>
<li><code>forward()</code>：前进一页。</li>
<li><code>go(n)</code>：<code>n&gt;0</code>前进<code>n</code>页，<code>n&lt;0</code>后退<code>|n|</code>页。</li>
</ul>
</li>
<li><strong>document对象</strong>
<ul>
<li><strong>输出内容</strong>：<code>writeln()</code>（用于动态生成HTML，如表格）。</li>
<li><strong>设置属性</strong>：
<ul>
<li><code>document.title</code>：网页标题。</li>
<li><code>document.location</code>：当前地址。</li>
</ul>
</li>
<li><strong>访问元素</strong>：
<ul>
<li>通过元素名访问（如<code>document.form1.account.value</code>获取表单输入值）。</li>
</ul>
</li>
</ul>
</li>
<li><strong>location对象</strong>
<ul>
<li><strong>跳转页面</strong>：<code>window.location.href=&quot;page.html&quot;</code>。</li>
<li><strong>定时跳转</strong>：结合<code>setTimeout</code>实现自动跳转。</li>
</ul>
</li>
</ol>
<hr>
<h3 id="本章总结"><a class="markdownIt-Anchor" href="#本章总结"></a> <strong>本章总结</strong></h3>
<ul>
<li><strong>语法重点</strong>：变量声明、函数定义、注释规则。</li>
<li><strong>内置对象</strong>：掌握<code>window</code>、<code>document</code>、<code>history</code>、<code>location</code>的核心功能。</li>
<li><strong>实践应用</strong>：通过示例代码理解提示框、窗口操作、元素访问等场景。</li>
</ul>
<hr>
<h1 id="php实验代码合集"><a class="markdownIt-Anchor" href="#php实验代码合集"></a> PHP实验代码合集</h1>
<h2 id="实验一php数组基本操作"><a class="markdownIt-Anchor" href="#实验一php数组基本操作"></a> 实验一：PHP数组基本操作</h2>
<h3 id="实验目的"><a class="markdownIt-Anchor" href="#实验目的"></a> 实验目的</h3>
<ol>
<li>掌握PHP的数组声明</li>
<li>掌握PHP的数组定义</li>
<li>掌握PHP数组的遍历和排序</li>
<li>熟练运用数组完成相关的任务</li>
</ol>
<h3 id="实验内容"><a class="markdownIt-Anchor" href="#实验内容"></a> 实验内容</h3>
<p>自己构造一个名字为students的二维数组，每个学号代表一名学生，该学生的信息由&quot;姓名&quot;、“性别”、&quot;成绩&quot;组成，数组中的元素至少具备5条。然后按照学生的成绩高低对该二维数组进行排序，并在网页中显示排序前后的students数组。</p>
<h3 id="实验代码"><a class="markdownIt-Anchor" href="#实验代码"></a> 实验代码</h3>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 构造students二维数组</span></span><br><span class="line"><span class="variable">$students</span>[<span class="string">&quot;000001&quot;</span>] = <span class="keyword">array</span>(<span class="string">&quot;学号&quot;</span>=&gt;<span class="string">&quot;000001&quot;</span>,<span class="string">&quot;姓名&quot;</span>=&gt;<span class="string">&quot;张三&quot;</span>,<span class="string">&quot;性别&quot;</span>=&gt;<span class="string">&quot;女&quot;</span>,<span class="string">&quot;成绩&quot;</span>=&gt;<span class="number">60</span>);</span><br><span class="line"><span class="variable">$students</span>[<span class="string">&quot;000002&quot;</span>] = <span class="keyword">array</span>(<span class="string">&quot;学号&quot;</span>=&gt;<span class="string">&quot;000002&quot;</span>,<span class="string">&quot;姓名&quot;</span>=&gt;<span class="string">&quot;张四&quot;</span>,<span class="string">&quot;性别&quot;</span>=&gt;<span class="string">&quot;女&quot;</span>,<span class="string">&quot;成绩&quot;</span>=&gt;<span class="number">90</span>);</span><br><span class="line"><span class="variable">$students</span>[<span class="string">&quot;000003&quot;</span>] = <span class="keyword">array</span>(<span class="string">&quot;学号&quot;</span>=&gt;<span class="string">&quot;000003&quot;</span>,<span class="string">&quot;姓名&quot;</span>=&gt;<span class="string">&quot;张五&quot;</span>,<span class="string">&quot;性别&quot;</span>=&gt;<span class="string">&quot;男&quot;</span>,<span class="string">&quot;成绩&quot;</span>=&gt;<span class="number">85</span>);</span><br><span class="line"><span class="variable">$students</span>[<span class="string">&quot;000004&quot;</span>] = <span class="keyword">array</span>(<span class="string">&quot;学号&quot;</span>=&gt;<span class="string">&quot;000004&quot;</span>,<span class="string">&quot;姓名&quot;</span>=&gt;<span class="string">&quot;张六&quot;</span>,<span class="string">&quot;性别&quot;</span>=&gt;<span class="string">&quot;女&quot;</span>,<span class="string">&quot;成绩&quot;</span>=&gt;<span class="number">78</span>);</span><br><span class="line"><span class="variable">$students</span>[<span class="string">&quot;000005&quot;</span>] = <span class="keyword">array</span>(<span class="string">&quot;学号&quot;</span>=&gt;<span class="string">&quot;000005&quot;</span>,<span class="string">&quot;姓名&quot;</span>=&gt;<span class="string">&quot;张七&quot;</span>,<span class="string">&quot;性别&quot;</span>=&gt;<span class="string">&quot;男&quot;</span>,<span class="string">&quot;成绩&quot;</span>=&gt;<span class="number">91</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;table border=&#x27;1&#x27; cellpadding=&#x27;5&#x27; cellspacing=&#x27;0&#x27;&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;tr&gt;&lt;th&gt;学号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;成绩&lt;/th&gt;&lt;/tr&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$students</span> <span class="keyword">as</span> <span class="variable">$student</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;tr&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;td&gt;<span class="subst">&#123;$student[&#x27;学号&#x27;]&#125;</span>&lt;/td&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;td&gt;<span class="subst">&#123;$student[&#x27;姓名&#x27;]&#125;</span>&lt;/td&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;td&gt;<span class="subst">&#123;$student[&#x27;性别&#x27;]&#125;</span>&lt;/td&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;td&gt;<span class="subst">&#123;$student[&#x27;成绩&#x27;]&#125;</span>&lt;/td&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;/tr&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;/table&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="comment">// 传参到$stu并输出排序后的数组</span></span><br><span class="line"><span class="variable">$stu</span> = <span class="variable">$students</span>;</span><br><span class="line"><span class="title function_ invoke__">usort</span>(<span class="variable">$stu</span>, function(<span class="variable">$a</span>, <span class="variable">$b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$b</span>[<span class="string">&#x27;成绩&#x27;</span>] &lt;=&gt; <span class="variable">$a</span>[<span class="string">&#x27;成绩&#x27;</span>];</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;table border=&#x27;1&#x27; cellpadding=&#x27;5&#x27; cellspacing=&#x27;0&#x27;&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;tr&gt;&lt;th&gt;学号&lt;/th&gt;&lt;th&gt;姓名&lt;/th&gt;&lt;th&gt;性别&lt;/th&gt;&lt;th&gt;成绩&lt;/th&gt;&lt;/tr&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$stu</span> <span class="keyword">as</span> <span class="variable">$student</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;tr&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;td&gt;<span class="subst">&#123;$student[&#x27;学号&#x27;]&#125;</span>&lt;/td&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;td&gt;<span class="subst">&#123;$student[&#x27;姓名&#x27;]&#125;</span>&lt;/td&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;td&gt;<span class="subst">&#123;$student[&#x27;性别&#x27;]&#125;</span>&lt;/td&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;td&gt;<span class="subst">&#123;$student[&#x27;成绩&#x27;]&#125;</span>&lt;/td&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;/tr&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;/table&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="实验二php语法基础"><a class="markdownIt-Anchor" href="#实验二php语法基础"></a> 实验二：PHP语法基础</h2>
<h3 id="实验目的"><a class="markdownIt-Anchor" href="#实验目的-2"></a> 实验目的</h3>
<ol>
<li>掌握PHP语法基本元素，掌握数据类型、变量和常量、运算符、表达式的使用</li>
<li>掌握PHP流程控制</li>
<li>掌握在Html和PHP命令标记相结合的方法</li>
</ol>
<h3 id="实验内容"><a class="markdownIt-Anchor" href="#实验内容-2"></a> 实验内容</h3>
<ol>
<li>PHP语法：数据类型、变量和常量、运算符、表达式、流程控制</li>
<li>PHP和html标记相结合</li>
</ol>
<h3 id="实验代码"><a class="markdownIt-Anchor" href="#实验代码-2"></a> 实验代码</h3>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;PHP实验<span class="number">2</span>&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">    <span class="variable">$xh</span> = <span class="string">&quot;3236021001&quot;</span>; <span class="comment">// 给变量$xh赋一个文本数值</span></span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">    &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">        学号：&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;xh&quot;</span> value=<span class="string">&quot;&lt;?php echo htmlspecialchars(<span class="subst">$xh</span>); ?&gt;&quot;</span>&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;提交&quot;</span>&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 产生一个随机年份</span></span><br><span class="line"><span class="variable">$year</span> = <span class="title function_ invoke__">rand</span>();</span><br><span class="line"><span class="comment">// 判断是否为闰年</span></span><br><span class="line"><span class="keyword">if</span> ((<span class="variable">$year</span> % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; <span class="variable">$year</span> % <span class="number">100</span> != <span class="number">0</span>) || (<span class="variable">$year</span> % <span class="number">400</span> == <span class="number">0</span>)) &#123;</span><br><span class="line">    <span class="variable">$result</span> = <span class="string">&quot;<span class="subst">&#123;$year&#125;</span>年是闰年&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable">$result</span> = <span class="string">&quot;<span class="subst">&#123;$year&#125;</span>年不是闰年&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 显示结果</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;p&gt;<span class="subst">&#123;$result&#125;</span>&lt;/p&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;table border=<span class="string">&quot;1&quot;</span> cellpadding=<span class="string">&quot;5&quot;</span> cellspacing=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;th&gt;信息名称&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;信息内容&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;变量名称&lt;/th&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;用户操作系统&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_USER_AGENT&#x27;</span>]) ? <span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_USER_AGENT&#x27;</span>] : <span class="string">&#x27;未知&#x27;</span>; <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_USER_AGENT&#x27;</span>]&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;服务器操作系统&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> PHP_OS; <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;PHP_OS&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;服务器软件信息&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;SERVER_SOFTWARE&#x27;</span>]) ? <span class="variable">$_SERVER</span>[<span class="string">&#x27;SERVER_SOFTWARE&#x27;</span>] : <span class="string">&#x27;未知&#x27;</span>; <span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;<span class="variable">$_SERVER</span>[<span class="string">&#x27;SERVER_SOFTWARE&#x27;</span>]&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="实验三php和html交互及函数的使用"><a class="markdownIt-Anchor" href="#实验三php和html交互及函数的使用"></a> 实验三：PHP和Html交互及函数的使用</h2>
<h3 id="实验目的"><a class="markdownIt-Anchor" href="#实验目的-3"></a> 实验目的</h3>
<ol>
<li>掌握在Html和PHP命令标记相结合的方法</li>
<li>掌握用PHP和Html交互的处理方法</li>
<li>掌握php中函数的定义和使用方法</li>
</ol>
<h3 id="实验内容"><a class="markdownIt-Anchor" href="#实验内容-3"></a> 实验内容</h3>
<ol>
<li>PHP和html交互</li>
<li>PHP函数</li>
</ol>
<h3 id="实验代码"><a class="markdownIt-Anchor" href="#实验代码-3"></a> 实验代码</h3>
<h4 id="ex3_1php"><a class="markdownIt-Anchor" href="#ex3_1php"></a> ex3_1.php</h4>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;zh-cn&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;表单输入读取示例&lt;/title&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">compareValue</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (i === <span class="string">&quot;&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">var</span> num = <span class="title function_ invoke__">parseInt</span>(i);</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">isNaN</span>(num)) <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">if</span> (num &gt; <span class="number">5</span>) &#123;</span><br><span class="line">                <span class="title function_ invoke__">alert</span>(<span class="string">&quot;i 大于5&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="title function_ invoke__">alert</span>(<span class="string">&quot;i 小于等于5&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;PHP 读取表单练习&lt;/h2&gt;</span><br><span class="line">    &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">        请输入变量<span class="variable">$i</span> 的数值：&lt;input type=<span class="string">&quot;number&quot;</span> id=<span class="string">&quot;i&quot;</span> name=<span class="string">&quot;i&quot;</span> value=<span class="string">&quot;&lt;?php echo isset(<span class="subst">$_POST</span>[&#x27;i&#x27;]) ? htmlspecialchars(<span class="subst">$_POST</span>[&#x27;i&#x27;]) : &#x27;&#x27;; ?&gt;&quot;</span>&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;提交&quot;</span> onclick=<span class="string">&quot;compareValue(document.getElementById(&#x27;i&#x27;).value);&quot;</span>&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$_SERVER</span>[<span class="string">&quot;REQUEST_METHOD&quot;</span>] == <span class="string">&quot;POST&quot;</span> &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&quot;i&quot;</span>]) &amp;&amp; <span class="variable">$_POST</span>[<span class="string">&quot;i&quot;</span>] !== <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">        <span class="variable">$i</span> = <span class="title function_ invoke__">intval</span>(<span class="variable">$_POST</span>[<span class="string">&quot;i&quot;</span>]);</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;div style=&#x27;margin-top:20px;&#x27;&gt;&quot;</span>;</span><br><span class="line">        <span class="variable">$arr</span> = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$j</span> = <span class="number">0</span>; <span class="variable">$j</span> &lt; <span class="variable">$i</span>; <span class="variable">$j</span>++) &#123;</span><br><span class="line">            <span class="variable">$arr</span>[] = <span class="variable">$j</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">echo</span> <span class="title function_ invoke__">implode</span>(<span class="string">&quot;,&quot;</span>, <span class="variable">$arr</span>);</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;/div&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="ex3_2php"><a class="markdownIt-Anchor" href="#ex3_2php"></a> ex3_2.php</h4>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 比较两个数值的大小</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> int|float $a 第一个数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> int|float $b 第二个数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $option 选项：&#x27;B&#x27;返回最大值，&#x27;L&#x27;返回最小值</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> int|float 根据选项返回最大值或最小值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compareValues</span>(<span class="params"><span class="variable">$a</span>, <span class="variable">$b</span>, <span class="variable">$option</span></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 将选项转换为大写，避免大小写问题</span></span><br><span class="line">    <span class="variable">$option</span> = <span class="title function_ invoke__">strtoupper</span>(<span class="variable">$option</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$option</span> == <span class="string">&#x27;B&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// 返回最大值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">max</span>(<span class="variable">$a</span>, <span class="variable">$b</span>);</span><br><span class="line">    &#125; <span class="keyword">elseif</span> (<span class="variable">$option</span> == <span class="string">&#x27;L&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// 返回最小值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">min</span>(<span class="variable">$a</span>, <span class="variable">$b</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 如果选项无效，默认返回最大值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">max</span>(<span class="variable">$a</span>, <span class="variable">$b</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;zh-cn&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;比较数值大小&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$_SERVER</span>[<span class="string">&#x27;REQUEST_METHOD&#x27;</span>] == <span class="string">&#x27;POST&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable">$a</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">        <span class="variable">$b</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;b&#x27;</span>];</span><br><span class="line">        <span class="variable">$option</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;option&#x27;</span>];</span><br><span class="line">        <span class="variable">$result</span> = <span class="title function_ invoke__">compareValues</span>(<span class="variable">$a</span>, <span class="variable">$b</span>, <span class="variable">$option</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">    &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">        &lt;table&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;请输入变量<span class="variable">$a</span> 的数值&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=<span class="string">&quot;number&quot;</span> name=<span class="string">&quot;a&quot;</span> value=<span class="string">&quot;&lt;?php echo <span class="subst">$_POST</span>[&#x27;a&#x27;] ?? &#x27;&#x27;; ?&gt;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;请输入变量<span class="variable">$b</span> 的数值&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=<span class="string">&quot;number&quot;</span> name=<span class="string">&quot;b&quot;</span> value=<span class="string">&quot;&lt;?php echo <span class="subst">$_POST</span>[&#x27;b&#x27;] ?? &#x27;&#x27;; ?&gt;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;指定返回数值是&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;</span><br><span class="line">                    &lt;select name=<span class="string">&quot;option&quot;</span>&gt;</span><br><span class="line">                        &lt;option value=<span class="string">&quot;B&quot;</span> <span class="meta">&lt;?php</span> <span class="keyword">echo</span> (<span class="variable">$_POST</span>[<span class="string">&#x27;option&#x27;</span>] ?? <span class="string">&#x27;&#x27;</span>) == <span class="string">&#x27;B&#x27;</span> ? <span class="string">&#x27;selected&#x27;</span> : <span class="string">&#x27;&#x27;</span>; <span class="meta">?&gt;</span>&gt;最大值&lt;/option&gt;</span><br><span class="line">                        &lt;option value=<span class="string">&quot;L&quot;</span> <span class="meta">&lt;?php</span> <span class="keyword">echo</span> (<span class="variable">$_POST</span>[<span class="string">&#x27;option&#x27;</span>] ?? <span class="string">&#x27;&#x27;</span>) == <span class="string">&#x27;L&#x27;</span> ? <span class="string">&#x27;selected&#x27;</span> : <span class="string">&#x27;&#x27;</span>; <span class="meta">?&gt;</span>&gt;最小值&lt;/option&gt;</span><br><span class="line">                    &lt;/select&gt;</span><br><span class="line">                &lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td colspan=<span class="string">&quot;2&quot;</span>&gt;&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;确定&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$result</span>)) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;结果是：&lt;br&gt;&quot;</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;两者的&quot;</span> . (<span class="variable">$option</span> == <span class="string">&#x27;B&#x27;</span> ? <span class="string">&#x27;最大值是&#x27;</span> : <span class="string">&#x27;最小值是&#x27;</span>) . <span class="variable">$result</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="实验四php数据处理"><a class="markdownIt-Anchor" href="#实验四php数据处理"></a> 实验四：PHP数据处理</h2>
<h3 id="实验目的"><a class="markdownIt-Anchor" href="#实验目的-4"></a> 实验目的</h3>
<p>掌握PHP正则表达式、文件、日期数据的操作方法</p>
<h3 id="实验内容"><a class="markdownIt-Anchor" href="#实验内容-4"></a> 实验内容</h3>
<ol>
<li>正则表达式的使用</li>
<li>文件的操作</li>
<li>日期数据的操作</li>
</ol>
<h3 id="实验代码"><a class="markdownIt-Anchor" href="#实验代码-4"></a> 实验代码</h3>
<h4 id="ex4_3php表单验证"><a class="markdownIt-Anchor" href="#ex4_3php表单验证"></a> ex4_3.php（表单验证）</h4>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 简单表单验证：用户名(6-12字符)、密码(6-20位数字)、出生日期(有效日期)、E-mail(有效地址)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">e</span>(<span class="params"><span class="variable">$s</span></span>) </span>&#123; <span class="keyword">return</span> <span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$s</span>, ENT_QUOTES, <span class="string">&#x27;UTF-8&#x27;</span>); &#125;</span><br><span class="line"><span class="variable">$errors</span> = [];</span><br><span class="line"><span class="variable">$values</span> = [<span class="string">&#x27;username&#x27;</span>=&gt;<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;birthdate&#x27;</span>=&gt;<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;email&#x27;</span>=&gt;<span class="string">&#x27;&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$_SERVER</span>[<span class="string">&#x27;REQUEST_METHOD&#x27;</span>] === <span class="string">&#x27;POST&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// 获取原始输入</span></span><br><span class="line">    <span class="variable">$username</span> = <span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;username&#x27;</span>]) ? <span class="title function_ invoke__">trim</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;username&#x27;</span>]) : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="variable">$password</span> = <span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;password&#x27;</span>]) ? <span class="variable">$_POST</span>[<span class="string">&#x27;password&#x27;</span>] : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="variable">$birthdate</span> = <span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;birthdate&#x27;</span>]) ? <span class="title function_ invoke__">trim</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;birthdate&#x27;</span>]) : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="variable">$email</span> = <span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;email&#x27;</span>]) ? <span class="title function_ invoke__">trim</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;email&#x27;</span>]) : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="variable">$values</span>[<span class="string">&#x27;username&#x27;</span>] = <span class="variable">$username</span>;</span><br><span class="line">    <span class="variable">$values</span>[<span class="string">&#x27;birthdate&#x27;</span>] = <span class="variable">$birthdate</span>;</span><br><span class="line">    <span class="variable">$values</span>[<span class="string">&#x27;email&#x27;</span>] = <span class="variable">$email</span>;</span><br><span class="line">    <span class="comment">// 用户名：6-12个字符（字母数字下划线）</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$username</span> === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable">$errors</span>[] = <span class="string">&#x27;用户名不能为空。&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">elseif</span> (!<span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/^[A-Za-z0-9_]&#123;6,12&#125;$/u&#x27;</span>, <span class="variable">$username</span>)) &#123;</span><br><span class="line">        <span class="variable">$errors</span>[] = <span class="string">&#x27;用户名必须为6到12个字符，只允许字母、数字或下划线。&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 密码：6-20位数字</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$password</span> === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable">$errors</span>[] = <span class="string">&#x27;密码不能为空。&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">elseif</span> (!<span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/^[0-9]&#123;6,20&#125;$/&#x27;</span>, <span class="variable">$password</span>)) &#123;</span><br><span class="line">        <span class="variable">$errors</span>[] = <span class="string">&#x27;密码必须为6到20位数字（仅允许0-9）。&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 出生日期：有效日期，格式YYYY-MM-DD，且不晚于今天，年份限制1900-当前年份</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$birthdate</span> === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable">$errors</span>[] = <span class="string">&#x27;出生日期不能为空。&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable">$d</span> = <span class="title class_">DateTime</span>::<span class="title function_ invoke__">createFromFormat</span>(<span class="string">&#x27;Y-m-d&#x27;</span>, <span class="variable">$birthdate</span>);</span><br><span class="line">        <span class="variable">$validDate</span> = <span class="variable">$d</span> &amp;&amp; <span class="variable">$d</span>-&gt;<span class="title function_ invoke__">format</span>(<span class="string">&#x27;Y-m-d&#x27;</span>) === <span class="variable">$birthdate</span>;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable">$validDate</span>) &#123;</span><br><span class="line">            <span class="variable">$errors</span>[] = <span class="string">&#x27;出生日期格式不正确，应为YYYY-MM-DD。&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable">$year</span> = (<span class="keyword">int</span>)<span class="variable">$d</span>-&gt;<span class="title function_ invoke__">format</span>(<span class="string">&#x27;Y&#x27;</span>);</span><br><span class="line">            <span class="variable">$today</span> = <span class="keyword">new</span> <span class="title class_">DateTime</span>(<span class="string">&#x27;today&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$d</span> &gt; <span class="variable">$today</span>) &#123;</span><br><span class="line">                <span class="variable">$errors</span>[] = <span class="string">&#x27;出生日期不能晚于今天。&#x27;</span>;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="variable">$year</span> &lt; <span class="number">1900</span>) &#123;</span><br><span class="line">                <span class="variable">$errors</span>[] = <span class="string">&#x27;出生年份不能早于1900年。&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// E-mail：使用PHP过滤器验证</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$email</span> === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable">$errors</span>[] = <span class="string">&#x27;E-mail不能为空。&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">elseif</span> (!<span class="title function_ invoke__">filter_var</span>(<span class="variable">$email</span>, FILTER_VALIDATE_EMAIL)) &#123;</span><br><span class="line">        <span class="variable">$errors</span>[] = <span class="string">&#x27;E-mail地址不合法。&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果没有错误，可以继续处理（例如保存、注册等）</span></span><br><span class="line">    <span class="variable">$ok</span> = <span class="keyword">empty</span>(<span class="variable">$errors</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$errors</span>)) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;error&#x27;&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;strong&gt;以下错误：&lt;/strong&gt; &lt;ul&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$errors</span> <span class="keyword">as</span> <span class="variable">$err</span>) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;li&gt;&quot;</span>.<span class="title function_ invoke__">e</span>(<span class="variable">$err</span>).<span class="string">&quot;&lt;/li&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;/ul&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;/div&gt;&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">elseif</span> (<span class="keyword">isset</span>(<span class="variable">$ok</span>) &amp;&amp; <span class="variable">$ok</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;success&#x27;&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;p&gt;验证通过！提交的数据：&lt;/p&gt; &lt;ul&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;li&gt;用户名：&quot;</span>.<span class="title function_ invoke__">e</span>(<span class="variable">$values</span>[<span class="string">&#x27;username&#x27;</span>]).<span class="string">&quot;&lt;/li&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;li&gt;出生日期：&quot;</span>.<span class="title function_ invoke__">e</span>(<span class="variable">$values</span>[<span class="string">&#x27;birthdate&#x27;</span>]).<span class="string">&quot;&lt;/li&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;li&gt;E-mail：&quot;</span>.<span class="title function_ invoke__">e</span>(<span class="variable">$values</span>[<span class="string">&#x27;email&#x27;</span>]).<span class="string">&quot;&lt;/li&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;/ul&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;/div&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;zh-CN&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;表单验证示例&lt;/title&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width,initial-scale=1&quot;</span>&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        body &#123; font-family: Arial, Helvetica, sans-serif; max-width:<span class="number">760</span>px; margin:<span class="number">30</span>px auto; padding:<span class="number">0</span> <span class="number">15</span>px; &#125;</span><br><span class="line">        .error &#123; color:<span class="comment">#a00; &#125;</span></span><br><span class="line">        .success &#123; color:<span class="comment">#080; &#125;</span></span><br><span class="line">        form &#123; margin-top:<span class="number">10</span>px; &#125;</span><br><span class="line">        label &#123; display:block; margin:<span class="number">10</span>px <span class="number">0</span> <span class="number">4</span>px; &#125;</span><br><span class="line">        input[type=<span class="string">&quot;text&quot;</span>], input[type=<span class="string">&quot;password&quot;</span>], input[type=<span class="string">&quot;email&quot;</span>], input[type=<span class="string">&quot;date&quot;</span>] &#123; width:<span class="number">100</span>%; padding:<span class="number">8</span>px; box-sizing:border-box; &#125;</span><br><span class="line">        .note &#123; font-size:<span class="number">0.9</span>em; color:<span class="comment">#666; &#125;</span></span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;注册 / 验证表单&lt;/h2&gt;</span><br><span class="line">    &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">        &lt;label <span class="keyword">for</span>=<span class="string">&quot;username&quot;</span>&gt;用户名（<span class="number">6</span>-<span class="number">12</span>字符，字母/数字/下划线）：&lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;username&quot;</span> name=<span class="string">&quot;username&quot;</span> pattern=<span class="string">&quot;[A-Za-z0-9_]&#123;6,12&#125;&quot;</span> title=<span class="string">&quot;6-12个字符，只允许字母、数字或下划线&quot;</span> value=<span class="string">&quot;&lt;?php echo e(<span class="subst">$values</span>[&#x27;username&#x27;]); ?&gt;&quot;</span>&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;label <span class="keyword">for</span>=<span class="string">&quot;password&quot;</span>&gt;密码（<span class="number">6</span>-<span class="number">20</span>位数字）：&lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;password&quot;</span> id=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span> pattern=<span class="string">&quot;[0-9]&#123;6,20&#125;&quot;</span> title=<span class="string">&quot;6-20位数字，示例：123456&quot;</span> value=<span class="string">&quot;&lt;?php echo e(<span class="subst">$values</span>[&#x27;password&#x27;]); ?&gt;&quot;</span>&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;label <span class="keyword">for</span>=<span class="string">&quot;birthdate&quot;</span>&gt;出生日期：&lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;date&quot;</span> id=<span class="string">&quot;birthdate&quot;</span> name=<span class="string">&quot;birthdate&quot;</span> required value=<span class="string">&quot;&lt;?php echo e(<span class="subst">$values</span>[&#x27;birthdate&#x27;]); ?&gt;&quot;</span>&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;label <span class="keyword">for</span>=<span class="string">&quot;email&quot;</span>&gt;E-mail：&lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;email&quot;</span> id=<span class="string">&quot;email&quot;</span> name=<span class="string">&quot;email&quot;</span> required value=<span class="string">&quot;&lt;?php echo e(<span class="subst">$values</span>[&#x27;email&#x27;]); ?&gt;&quot;</span>&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;p <span class="class"><span class="keyword">class</span>=&quot;<span class="title">note</span>&quot;&gt;客户端会做基础格式校验，服务器端会做严格验证。&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">button</span> <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;提交&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="ex4_4php投票系统"><a class="markdownIt-Anchor" href="#ex4_4php投票系统"></a> ex4_4.php（投票系统）</h4>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 简单投票脚本，投票结果保存在与此文件同目录的voteresult.txt中，格式：数值用|分隔</span></span><br><span class="line"><span class="variable">$options</span> = [<span class="string">&#x27;选项一&#x27;</span>, <span class="string">&#x27;选项二&#x27;</span>, <span class="string">&#x27;选项三&#x27;</span>, <span class="string">&#x27;选项四&#x27;</span>];</span><br><span class="line"><span class="variable">$dataFile</span> = <span class="keyword">__DIR__</span> . <span class="string">&#x27;/voteresult.txt&#x27;</span>;</span><br><span class="line"><span class="comment">// 初始化结果文件（若不存在）</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_ invoke__">file_exists</span>(<span class="variable">$dataFile</span>)) &#123;</span><br><span class="line">    <span class="variable">$zeros</span> = <span class="title function_ invoke__">implode</span>(<span class="string">&#x27;|&#x27;</span>, <span class="title function_ invoke__">array_fill</span>(<span class="number">0</span>, <span class="title function_ invoke__">count</span>(<span class="variable">$options</span>), <span class="string">&#x27;0&#x27;</span>)) . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    <span class="title function_ invoke__">file_put_contents</span>(<span class="variable">$dataFile</span>, <span class="variable">$zeros</span>, LOCK_EX);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 接收投票</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$_SERVER</span>[<span class="string">&#x27;REQUEST_METHOD&#x27;</span>] === <span class="string">&#x27;POST&#x27;</span> &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;option&#x27;</span>])) &#123;</span><br><span class="line">    <span class="variable">$choice</span> = (<span class="keyword">int</span>)<span class="variable">$_POST</span>[<span class="string">&#x27;option&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$choice</span> &gt;= <span class="number">0</span> &amp;&amp; <span class="variable">$choice</span> &lt; <span class="title function_ invoke__">count</span>(<span class="variable">$options</span>)) &#123;</span><br><span class="line">        <span class="comment">// 打开文件并加写锁，防止并发写入冲突</span></span><br><span class="line">        <span class="variable">$fp</span> = <span class="title function_ invoke__">fopen</span>(<span class="variable">$dataFile</span>, <span class="string">&#x27;c+&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$fp</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">flock</span>(<span class="variable">$fp</span>, LOCK_EX)) &#123;</span><br><span class="line">                <span class="comment">// 读取当前数据</span></span><br><span class="line">                <span class="variable">$contents</span> = <span class="title function_ invoke__">stream_get_contents</span>(<span class="variable">$fp</span>);</span><br><span class="line">                <span class="variable">$contents</span> = <span class="title function_ invoke__">trim</span>(<span class="variable">$contents</span>);</span><br><span class="line">                </span><br><span class="line">                <span class="variable">$parts</span> = <span class="variable">$contents</span> === <span class="string">&#x27;&#x27;</span> ? <span class="title function_ invoke__">array_fill</span>(<span class="number">0</span>, <span class="title function_ invoke__">count</span>(<span class="variable">$options</span>), <span class="number">0</span>) : <span class="title function_ invoke__">explode</span>(<span class="string">&#x27;|&#x27;</span>, <span class="variable">$contents</span>);</span><br><span class="line">                <span class="comment">// 保证数组长度</span></span><br><span class="line">                <span class="variable">$counts</span> = <span class="title function_ invoke__">array_map</span>(<span class="string">&#x27;intval&#x27;</span>, <span class="title function_ invoke__">array_pad</span>(<span class="variable">$parts</span>, <span class="title function_ invoke__">count</span>(<span class="variable">$options</span>), <span class="number">0</span>));</span><br><span class="line">                <span class="comment">// 增加选择项</span></span><br><span class="line">                <span class="variable">$counts</span>[<span class="variable">$choice</span>]++;</span><br><span class="line">                <span class="comment">// 写回文件</span></span><br><span class="line">                <span class="title function_ invoke__">rewind</span>(<span class="variable">$fp</span>);</span><br><span class="line">                <span class="title function_ invoke__">ftruncate</span>(<span class="variable">$fp</span>, <span class="number">0</span>);</span><br><span class="line">                <span class="title function_ invoke__">fwrite</span>(<span class="variable">$fp</span>, <span class="title function_ invoke__">implode</span>(<span class="string">&#x27;|&#x27;</span>, <span class="variable">$counts</span>) . <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                <span class="title function_ invoke__">fflush</span>(<span class="variable">$fp</span>);</span><br><span class="line">                <span class="title function_ invoke__">flock</span>(<span class="variable">$fp</span>, LOCK_UN);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_ invoke__">fclose</span>(<span class="variable">$fp</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 避免表单重复提交，重定向回自身</span></span><br><span class="line">    <span class="title function_ invoke__">header</span>(<span class="string">&#x27;Location: &#x27;</span> . <span class="variable">$_SERVER</span>[<span class="string">&#x27;PHP_SELF&#x27;</span>]);</span><br><span class="line">    <span class="keyword">exit</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 读取当前票数（共享锁）</span></span><br><span class="line"><span class="variable">$counts</span> = <span class="title function_ invoke__">array_fill</span>(<span class="number">0</span>, <span class="title function_ invoke__">count</span>(<span class="variable">$options</span>), <span class="number">0</span>);</span><br><span class="line"><span class="variable">$fp</span> = <span class="title function_ invoke__">fopen</span>(<span class="variable">$dataFile</span>, <span class="string">&#x27;r&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$fp</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">flock</span>(<span class="variable">$fp</span>, LOCK_SH)) &#123;</span><br><span class="line">        <span class="variable">$contents</span> = <span class="title function_ invoke__">stream_get_contents</span>(<span class="variable">$fp</span>);</span><br><span class="line">        <span class="title function_ invoke__">flock</span>(<span class="variable">$fp</span>, LOCK_UN);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_ invoke__">fclose</span>(<span class="variable">$fp</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="variable">$contents</span> = <span class="title function_ invoke__">trim</span>(<span class="variable">$contents</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$contents</span> !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable">$parts</span> = <span class="title function_ invoke__">explode</span>(<span class="string">&#x27;|&#x27;</span>, <span class="variable">$contents</span>);</span><br><span class="line">        <span class="variable">$counts</span> = <span class="title function_ invoke__">array_map</span>(<span class="string">&#x27;intval&#x27;</span>, <span class="title function_ invoke__">array_pad</span>(<span class="variable">$parts</span>, <span class="title function_ invoke__">count</span>(<span class="variable">$options</span>), <span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$total</span> = <span class="title function_ invoke__">array_sum</span>(<span class="variable">$counts</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;zh-CN&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;投票页&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        body&#123;font-family: Arial, sans-serif; max-width:<span class="number">640</span>px;margin:<span class="number">2</span>em auto;padding:<span class="number">1</span>em;border:<span class="number">1</span>px solid <span class="comment">#ddd;&#125;</span></span><br><span class="line">        .option&#123;margin:<span class="number">0.5</span>em <span class="number">0</span>;padding:<span class="number">0.5</span>em;border:<span class="number">1</span>px solid <span class="comment">#eee;&#125;</span></span><br><span class="line">        .bar&#123;display:inline-block;height:<span class="number">14</span>px;background:<span class="comment">#4caf50;vertical-align:middle;&#125;</span></span><br><span class="line">        .count&#123;margin-left:<span class="number">0.6</span>em;color:<span class="comment">#333;&#125;</span></span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;请选择一个选项并投票&lt;/h2&gt;</span><br><span class="line">    &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;&lt;?php echo htmlspecialchars(<span class="subst">$_SERVER</span>[&#x27;PHP_SELF&#x27;]); ?&gt;&quot;</span>&gt;</span><br><span class="line">        <span class="meta">&lt;?php</span> <span class="keyword">foreach</span> (<span class="variable">$options</span> <span class="keyword">as</span> <span class="variable">$i</span> =&gt; <span class="variable">$label</span>): <span class="meta">?&gt;</span></span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">option</span>&quot;&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">label</span>&gt;</span></span><br><span class="line"><span class="class">                    &lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">radio</span>&quot; <span class="title">name</span>=&quot;<span class="title">option</span>&quot; <span class="title">value</span>=&quot;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">i</span>; ?&gt;&quot; &lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">i</span> === 0 ? &#x27;<span class="title">checked</span>&#x27; : &#x27;&#x27;; ?&gt;&gt;</span></span><br><span class="line"><span class="class">                    &lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">htmlspecialchars</span>($<span class="title">label</span>); ?&gt;</span></span><br><span class="line"><span class="class">                &lt;/<span class="title">label</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">span</span> <span class="title">class</span>=&quot;<span class="title">count</span>&quot;&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">counts</span>[$<span class="title">i</span>]; ?&gt; 票（&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">total</span> ? <span class="title">round</span>($<span class="title">counts</span>[$<span class="title">i</span>] * 100 / $<span class="title">total</span>, 1) : 0; ?&gt;%）&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">div</span> <span class="title">style</span>=&quot;<span class="title">margin</span>-<span class="title">top</span>:6<span class="title">px</span>;<span class="title">background</span>:#<span class="title">f1f1f1</span>;<span class="title">height</span>:14<span class="title">px</span>;&quot;&gt;</span></span><br><span class="line"><span class="class">                    &lt;<span class="title">div</span> <span class="title">class</span>=&quot;<span class="title">bar</span>&quot; <span class="title">style</span>=&quot;<span class="title">width</span>:&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">total</span> ? <span class="title">round</span>($<span class="title">counts</span>[$<span class="title">i</span>] * 100 / $<span class="title">total</span>, 1) : 0; ?&gt;%&quot;&gt;&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;?<span class="title">php</span> <span class="title">endforeach</span>; ?&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">p</span>&gt;&lt;<span class="title">button</span> <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;投票&lt;/<span class="title">button</span>&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">h3</span>&gt;统计&lt;/<span class="title">h3</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">p</span>&gt;总票数：&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">total</span>; ?&gt;&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="class">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="ex4_5php年龄计算"><a class="markdownIt-Anchor" href="#ex4_5php年龄计算"></a> ex4_5.php（年龄计算）</h4>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 页面：用户输入生日，计算年龄和出生星期</span></span><br><span class="line"><span class="variable">$result</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="variable">$birthday</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;birthday&#x27;</span>] ?? <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$_SERVER</span>[<span class="string">&#x27;REQUEST_METHOD&#x27;</span>] === <span class="string">&#x27;POST&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$birthday</span>)) &#123;</span><br><span class="line">        <span class="variable">$result</span> = <span class="string">&#x27;请填写生日。&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="variable">$birth</span> = <span class="keyword">new</span> <span class="title class_">DateTime</span>(<span class="variable">$birthday</span>);</span><br><span class="line">            <span class="variable">$today</span> = <span class="keyword">new</span> <span class="title class_">DateTime</span>(<span class="string">&#x27;today&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$birth</span> &gt; <span class="variable">$today</span>) &#123;</span><br><span class="line">                <span class="variable">$result</span> = <span class="string">&#x27;生日不能在将来。&#x27;</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable">$age</span> = <span class="variable">$birth</span>-&gt;<span class="title function_ invoke__">diff</span>(<span class="variable">$today</span>)-&gt;y;</span><br><span class="line">                <span class="variable">$weekdayMap</span> = [<span class="string">&#x27;星期日&#x27;</span>, <span class="string">&#x27;星期一&#x27;</span>, <span class="string">&#x27;星期二&#x27;</span>, <span class="string">&#x27;星期三&#x27;</span>, <span class="string">&#x27;星期四&#x27;</span>, <span class="string">&#x27;星期五&#x27;</span>, <span class="string">&#x27;星期六&#x27;</span>];</span><br><span class="line">                <span class="variable">$weekday</span> = <span class="variable">$weekdayMap</span>[(<span class="keyword">int</span>)<span class="variable">$birth</span>-&gt;<span class="title function_ invoke__">format</span>(<span class="string">&#x27;w&#x27;</span>)];</span><br><span class="line">                <span class="variable">$result</span> = <span class="title function_ invoke__">sprintf</span>(<span class="string">&quot;出生日期：%s；年龄：%d岁；出生星期：%s&quot;</span>, </span><br><span class="line">                    <span class="variable">$birth</span>-&gt;<span class="title function_ invoke__">format</span>(<span class="string">&#x27;Y-m-d&#x27;</span>), <span class="variable">$age</span>, <span class="variable">$weekday</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (<span class="built_in">Exception</span> <span class="variable">$e</span>) &#123;</span><br><span class="line">            <span class="variable">$result</span> = <span class="string">&#x27;无效的日期格式。&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;zh-CN&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;计算年龄与出生星期 - ex4_5.php&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;请输入您的生日&lt;/h2&gt;</span><br><span class="line">    &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            生日：&lt;input type=<span class="string">&quot;date&quot;</span> name=<span class="string">&quot;birthday&quot;</span> value=<span class="string">&quot;&lt;?php echo htmlspecialchars(<span class="subst">$birthday</span>); ?&gt;&quot;</span> required&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;button type=<span class="string">&quot;submit&quot;</span>&gt;提交&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span> <span class="keyword">if</span> (<span class="variable">$result</span> !== <span class="string">&#x27;&#x27;</span>): <span class="meta">?&gt;</span></span><br><span class="line">        &lt;p&gt;&lt;strong&gt;结果：&lt;/strong&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$result</span>); <span class="meta">?&gt;</span>&lt;/p&gt;</span><br><span class="line">    <span class="meta">&lt;?php</span> <span class="keyword">endif</span>; <span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="实验五php和数据库"><a class="markdownIt-Anchor" href="#实验五php和数据库"></a> 实验五：PHP和数据库</h2>
<h3 id="实验目的"><a class="markdownIt-Anchor" href="#实验目的-5"></a> 实验目的</h3>
<p>掌握PHP连接和操作MySQL数据库的方法</p>
<h3 id="实验内容"><a class="markdownIt-Anchor" href="#实验内容-5"></a> 实验内容</h3>
<p>用PHP连接和操作MySql的方法</p>
<h3 id="实验代码"><a class="markdownIt-Anchor" href="#实验代码-5"></a> 实验代码</h3>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// --- 1. 数据库连接配置 (调试模式)</span></span><br><span class="line"><span class="variable">$db_host</span> = <span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"><span class="variable">$db_user</span> = <span class="string">&#x27;admin&#x27;</span>;</span><br><span class="line"><span class="variable">$db_pass</span> = <span class="string">&#x27;admin123&#x27;</span>;</span><br><span class="line"><span class="variable">$db_name</span> = <span class="string">&#x27;ex5&#x27;</span>;</span><br><span class="line"><span class="comment">// 创建数据库连接</span></span><br><span class="line"><span class="variable">$conn</span> = <span class="keyword">new</span> <span class="title function_ invoke__">mysqli</span>(<span class="variable">$db_host</span>, <span class="variable">$db_user</span>, <span class="variable">$db_pass</span>, <span class="variable">$db_name</span>);</span><br><span class="line"><span class="comment">// 检查连接是否成功</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$conn</span>-&gt;connect_error) &#123;</span><br><span class="line">    <span class="comment">// --- 调试信息：显示详细的连接错误</span></span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;&lt;h3&gt;数据库连接失败！&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;错误详情：&lt;/strong&gt;&quot;</span> . <span class="variable">$conn</span>-&gt;connect_error . <span class="string">&quot;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;请检查：&lt;/strong&gt;&lt;ul&gt;&lt;li&gt;小皮的MySQL服务是否已启动？&lt;/li&gt;&lt;li&gt;用户名 &#x27;admin&#x27; 和密码 &#x27;admin123&#x27; 是否正确？&lt;/li&gt;&lt;li&gt;数据库名 &#x27;ex5&#x27; 是否存在？&lt;/li&gt;&lt;li&gt;用户 &#x27;admin&#x27; 是否有访问 &#x27;ex5&#x27; 数据库的权限？&lt;/li&gt;&lt;/ul&gt;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 设置字符集，防止中文乱码</span></span><br><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">set_charset</span>(<span class="string">&quot;utf8mb4&quot;</span>);</span><br><span class="line"><span class="comment">// --- 2. 获取查询参数和分页参数</span></span><br><span class="line"><span class="comment">// 使用isset()防止未定义索引的报错，使用trim()去除前后空格</span></span><br><span class="line"><span class="variable">$s_id</span> = <span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;s_id&#x27;</span>]) ? <span class="title function_ invoke__">trim</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;s_id&#x27;</span>]) : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="variable">$s_student</span> = <span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;s_student&#x27;</span>]) ? <span class="title function_ invoke__">trim</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;s_student&#x27;</span>]) : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="variable">$department</span> = <span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;department&#x27;</span>]) ? <span class="title function_ invoke__">trim</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;department&#x27;</span>]) : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="comment">// 分页参数</span></span><br><span class="line"><span class="variable">$page</span> = <span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;page&#x27;</span>]) ? (<span class="keyword">int</span>)<span class="variable">$_GET</span>[<span class="string">&#x27;page&#x27;</span>] : <span class="number">1</span>;</span><br><span class="line"><span class="variable">$pageSize</span> = <span class="number">15</span>; <span class="comment">// 每页显示15条记录</span></span><br><span class="line"><span class="variable">$offset</span> = (<span class="variable">$page</span> - <span class="number">1</span>) * <span class="variable">$pageSize</span>;</span><br><span class="line"><span class="comment">// --- 3. 构建SQL查询语句</span></span><br><span class="line"><span class="comment">// 初始化WHERE条件</span></span><br><span class="line"><span class="variable">$where</span> = [];</span><br><span class="line"><span class="variable">$params</span> = [];</span><br><span class="line"><span class="variable">$types</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="comment">// 根据用户输入动态构建WHERE子句</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$s_id</span>)) &#123;</span><br><span class="line">    <span class="variable">$where</span>[] = <span class="string">&quot;S_id LIKE ?&quot;</span>;</span><br><span class="line">    <span class="variable">$params</span>[] = <span class="string">&quot;%<span class="subst">$s_id</span>%&quot;</span>;</span><br><span class="line">    <span class="variable">$types</span> .= <span class="string">&#x27;s&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$s_student</span>)) &#123;</span><br><span class="line">    <span class="variable">$where</span>[] = <span class="string">&quot;S_student LIKE ?&quot;</span>;</span><br><span class="line">    <span class="variable">$params</span>[] = <span class="string">&quot;%<span class="subst">$s_student</span>%&quot;</span>;</span><br><span class="line">    <span class="variable">$types</span> .= <span class="string">&#x27;s&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$department</span>)) &#123;</span><br><span class="line">    <span class="variable">$where</span>[] = <span class="string">&quot;department LIKE ?&quot;</span>;</span><br><span class="line">    <span class="variable">$params</span>[] = <span class="string">&quot;%<span class="subst">$department</span>%&quot;</span>;</span><br><span class="line">    <span class="variable">$types</span> .= <span class="string">&#x27;s&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 将WHERE条件数组组合成字符串</span></span><br><span class="line"><span class="variable">$whereClause</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$where</span>)) &#123;</span><br><span class="line">    <span class="variable">$whereClause</span> = <span class="string">&#x27;WHERE &#x27;</span> . <span class="title function_ invoke__">implode</span>(<span class="string">&#x27; AND &#x27;</span>, <span class="variable">$where</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// --- 4. 获取总记录数（用于分页计算）</span></span><br><span class="line"><span class="variable">$countSql</span> = <span class="string">&quot;SELECT COUNT(*) as total FROM student <span class="subst">$whereClause</span>&quot;</span>;</span><br><span class="line"><span class="variable">$countStmt</span> = <span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">prepare</span>(<span class="variable">$countSql</span>);</span><br><span class="line"><span class="comment">// 如果有查询条件，则绑定参数</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$params</span>)) &#123;</span><br><span class="line">    <span class="variable">$countStmt</span>-&gt;<span class="title function_ invoke__">bind_param</span>(<span class="variable">$types</span>, ...<span class="variable">$params</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$countStmt</span>-&gt;<span class="title function_ invoke__">execute</span>();</span><br><span class="line"><span class="variable">$result</span> = <span class="variable">$countStmt</span>-&gt;<span class="title function_ invoke__">get_result</span>();</span><br><span class="line"><span class="variable">$row</span> = <span class="variable">$result</span>-&gt;<span class="title function_ invoke__">fetch_assoc</span>();</span><br><span class="line"><span class="variable">$totalRecords</span> = <span class="variable">$row</span>[<span class="string">&#x27;total&#x27;</span>];</span><br><span class="line"><span class="variable">$totalPages</span> = <span class="title function_ invoke__">ceil</span>(<span class="variable">$totalRecords</span> / <span class="variable">$pageSize</span>);</span><br><span class="line"><span class="comment">// --- 5. 获取当前页的数据</span></span><br><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;SELECT S_id, S_student, department FROM student <span class="subst">$whereClause</span> ORDER BY S_id LIMIT ?, ?&quot;</span>;</span><br><span class="line"><span class="variable">$stmt</span> = <span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">prepare</span>(<span class="variable">$sql</span>);</span><br><span class="line"><span class="comment">// 绑定参数</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$params</span>)) &#123;</span><br><span class="line">    <span class="variable">$params</span>[] = <span class="variable">$pageSize</span>;</span><br><span class="line">    <span class="variable">$params</span>[] = <span class="variable">$offset</span>;</span><br><span class="line">    <span class="variable">$types</span> .= <span class="string">&#x27;ii&#x27;</span>;</span><br><span class="line">    <span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">bind_param</span>(<span class="variable">$types</span>, ...<span class="variable">$params</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">bind_param</span>(<span class="string">&#x27;ii&#x27;</span>, <span class="variable">$pageSize</span>, <span class="variable">$offset</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">execute</span>();</span><br><span class="line"><span class="variable">$result</span> = <span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">get_result</span>();</span><br><span class="line"><span class="comment">// --- 6. 定义一个辅助函数，用于构建带查询条件的URL</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">buildQueryString</span>(<span class="params"><span class="variable">$page</span></span>) </span>&#123;</span><br><span class="line">    <span class="variable">$params</span> = [];</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;s_id&#x27;</span>])) <span class="variable">$params</span>[] = <span class="string">&#x27;s_id=&#x27;</span> . <span class="title function_ invoke__">urlencode</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;s_id&#x27;</span>]);</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;s_student&#x27;</span>])) <span class="variable">$params</span>[] = <span class="string">&#x27;s_student=&#x27;</span> . <span class="title function_ invoke__">urlencode</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;s_student&#x27;</span>]);</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;department&#x27;</span>])) <span class="variable">$params</span>[] = <span class="string">&#x27;department=&#x27;</span> . <span class="title function_ invoke__">urlencode</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;department&#x27;</span>]);</span><br><span class="line">    <span class="variable">$params</span>[] = <span class="string">&#x27;page=&#x27;</span> . <span class="variable">$page</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">implode</span>(<span class="string">&#x27;&amp;&#x27;</span>, <span class="variable">$params</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// --- 7. 关闭数据库连接</span></span><br><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">close</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;zh-CN&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;学生信息查询系统 (ex5.php)&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        body &#123; font-family: <span class="string">&#x27;Microsoft YaHei&#x27;</span>, Arial, sans-serif; margin: <span class="number">20</span>px; background-color: <span class="comment">#f4f4f9; &#125;</span></span><br><span class="line">        .container &#123; max-width: <span class="number">1000</span>px; margin: <span class="number">0</span> auto; background-color: <span class="comment">#fff; padding: 25px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); &#125;</span></span><br><span class="line">        h1 &#123; color: <span class="comment">#333; text-align: center; margin-bottom: 30px; &#125;</span></span><br><span class="line">        .search-form &#123; background-color: <span class="comment">#f8f9fa; padding: 20px; border-radius: 5px; margin-bottom: 25px; border-left: 5px solid #007bff; &#125;</span></span><br><span class="line">        .form-group &#123; margin-bottom: <span class="number">15</span>px; display: flex; align-items: center; &#125;</span><br><span class="line">        label &#123; display: inline-block; width: <span class="number">80</span>px; font-weight: bold; color: <span class="comment">#555; &#125;</span></span><br><span class="line">        input[type=<span class="string">&quot;text&quot;</span>] &#123; padding: <span class="number">10</span>px; width: <span class="number">250</span>px; border: <span class="number">1</span>px solid <span class="comment">#ccc; border-radius: 4px; font-size: 14px; &#125;</span></span><br><span class="line">        button &#123; background-color: <span class="comment">#007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; transition: background-color 0.3s; &#125;</span></span><br><span class="line">        button:hover &#123; background-color: <span class="comment">#0056b3; &#125;</span></span><br><span class="line">        .reset-btn &#123; background-color: <span class="comment">#6c757d; margin-left: 10px; &#125;</span></span><br><span class="line">        .reset-btn:hover &#123; background-color: <span class="comment">#5a6268; &#125;</span></span><br><span class="line">        table &#123; width: <span class="number">100</span>%; border-collapse: collapse; margin-top: <span class="number">20</span>px; &#125;</span><br><span class="line">        th, td &#123; border: <span class="number">1</span>px solid <span class="comment">#ddd; padding: 12px; text-align: left; &#125;</span></span><br><span class="line">        th &#123; background-color: <span class="comment">#007bff; color: white; font-weight: bold; &#125;</span></span><br><span class="line">        tr:nth-<span class="title function_ invoke__">child</span>(even) &#123; background-color: <span class="comment">#f2f2f2; &#125;</span></span><br><span class="line">        tr:hover &#123; background-color: <span class="comment">#e9ecef; &#125;</span></span><br><span class="line">        .pagination &#123; margin-top: <span class="number">20</span>px; text-align: center; &#125;</span><br><span class="line">        .pagination a, .pagination span &#123; display: inline-block; padding: <span class="number">8</span>px <span class="number">16</span>px; margin: <span class="number">0</span> <span class="number">4</span>px; text-decoration: none; border: <span class="number">1</span>px solid <span class="comment">#ddd; border-radius: 4px; transition: background-color 0.3s; &#125;</span></span><br><span class="line">        .pagination a:hover &#123; background-color: <span class="comment">#e9ecef; &#125;</span></span><br><span class="line">        .pagination .current &#123; background-color: <span class="comment">#007bff; color: white; border-color: #007bff; font-weight: bold; &#125;</span></span><br><span class="line">        .no-results &#123; text-align: center; padding: <span class="number">30</span>px; color: <span class="comment">#6c757d; font-size: 16px; &#125;</span></span><br><span class="line">        .info &#123; margin-bottom: <span class="number">20</span>px; color: <span class="comment">#495057; font-size: 15px; &#125;</span></span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">container</span>&quot;&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">h1</span>&gt;学生信息查询系统&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line"><span class="class">        </span></span><br><span class="line"><span class="class">        &lt;!-- 查询表单 --&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">form</span> <span class="title">method</span>=&quot;<span class="title">GET</span>&quot; <span class="title">action</span>=&quot;&quot; <span class="title">class</span>=&quot;<span class="title">search</span>-<span class="title">form</span>&quot;&gt;</span></span><br><span class="line"><span class="class">            &lt;<span class="title">div</span> <span class="title">class</span>=&quot;<span class="title">form</span>-<span class="title">group</span>&quot;&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">label</span> <span class="title">for</span>=&quot;<span class="title">s_id</span>&quot;&gt;学号：&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">text</span>&quot; <span class="title">id</span>=&quot;<span class="title">s_id</span>&quot; <span class="title">name</span>=&quot;<span class="title">s_id</span>&quot; <span class="title">value</span>=&quot;&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">htmlspecialchars</span>($<span class="title">s_id</span>); ?&gt;&quot; <span class="title">placeholder</span>=&quot;请输入学号&quot;&gt;</span></span><br><span class="line"><span class="class">            &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;<span class="title">div</span> <span class="title">class</span>=&quot;<span class="title">form</span>-<span class="title">group</span>&quot;&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">label</span> <span class="title">for</span>=&quot;<span class="title">s_student</span>&quot;&gt;姓名：&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">text</span>&quot; <span class="title">id</span>=&quot;<span class="title">s_student</span>&quot; <span class="title">name</span>=&quot;<span class="title">s_student</span>&quot; <span class="title">value</span>=&quot;&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">htmlspecialchars</span>($<span class="title">s_student</span>); ?&gt;&quot; <span class="title">placeholder</span>=&quot;请输入姓名&quot;&gt;</span></span><br><span class="line"><span class="class">            &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;<span class="title">div</span> <span class="title">class</span>=&quot;<span class="title">form</span>-<span class="title">group</span>&quot;&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">label</span> <span class="title">for</span>=&quot;<span class="title">department</span>&quot;&gt;院系：&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">text</span>&quot; <span class="title">id</span>=&quot;<span class="title">department</span>&quot; <span class="title">name</span>=&quot;<span class="title">department</span>&quot; <span class="title">value</span>=&quot;&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">htmlspecialchars</span>($<span class="title">department</span>); ?&gt;&quot; <span class="title">placeholder</span>=&quot;请输入院系&quot;&gt;</span></span><br><span class="line"><span class="class">            &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;<span class="title">div</span> <span class="title">class</span>=&quot;<span class="title">form</span>-<span class="title">group</span>&quot;&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">button</span> <span class="title">type</span>=&quot;<span class="title">submit</span>&quot;&gt;查询&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">button</span> <span class="title">type</span>=&quot;<span class="title">button</span>&quot; <span class="title">class</span>=&quot;<span class="title">reset</span>-<span class="title">btn</span>&quot; <span class="title">onclick</span>=&quot;<span class="title">clearForm</span>()&quot;&gt;重置&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;!-- 查询结果 --&gt;</span></span><br><span class="line"><span class="class">        &lt;?<span class="title">php</span> <span class="title">if</span> ($<span class="title">totalRecords</span> &gt; 0): ?&gt;</span></span><br><span class="line"><span class="class">            &lt;<span class="title">div</span> <span class="title">class</span>=&quot;<span class="title">info</span>&quot;&gt;</span></span><br><span class="line"><span class="class">                共找到 &lt;<span class="title">strong</span>&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">totalRecords</span>; ?&gt;&lt;/<span class="title">strong</span>&gt; 条记录，当前显示第 &lt;<span class="title">strong</span>&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">page</span>; ?&gt;&lt;/<span class="title">strong</span>&gt; 页，共 &lt;<span class="title">strong</span>&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">totalPages</span>; ?&gt;&lt;/<span class="title">strong</span>&gt; 页</span></span><br><span class="line"><span class="class">            &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;<span class="title">table</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">thead</span>&gt;</span></span><br><span class="line"><span class="class">                    &lt;<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">                        &lt;<span class="title">th</span>&gt;序号&lt;/<span class="title">th</span>&gt;</span></span><br><span class="line"><span class="class">                        &lt;<span class="title">th</span>&gt;学号&lt;/<span class="title">th</span>&gt;</span></span><br><span class="line"><span class="class">                        &lt;<span class="title">th</span>&gt;姓名&lt;/<span class="title">th</span>&gt;</span></span><br><span class="line"><span class="class">                        &lt;<span class="title">th</span>&gt;院系&lt;/<span class="title">th</span>&gt;</span></span><br><span class="line"><span class="class">                    &lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;/<span class="title">thead</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">tbody</span>&gt;</span></span><br><span class="line"><span class="class">                    &lt;?<span class="title">php</span> </span></span><br><span class="line"><span class="class">                    $<span class="title">serial</span> = $<span class="title">offset</span> + 1; // 计算当前页的起始序号</span></span><br><span class="line"><span class="class">                    <span class="title">while</span> ($<span class="title">row</span> = $<span class="title">result</span>-&gt;<span class="title">fetch_assoc</span>()): </span></span><br><span class="line"><span class="class">                    ?&gt;</span></span><br><span class="line"><span class="class">                        &lt;<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">                            &lt;<span class="title">td</span>&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> $<span class="title">serial</span>++; ?&gt;&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">                            &lt;<span class="title">td</span>&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">htmlspecialchars</span>($<span class="title">row</span>[&#x27;<span class="title">S_id</span>&#x27;]); ?&gt;&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">                            &lt;<span class="title">td</span>&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">htmlspecialchars</span>($<span class="title">row</span>[&#x27;<span class="title">S_student</span>&#x27;]); ?&gt;&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">                            &lt;<span class="title">td</span>&gt;&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">htmlspecialchars</span>($<span class="title">row</span>[&#x27;<span class="title">department</span>&#x27;]); ?&gt;&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">                        &lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">                    &lt;?<span class="title">php</span> <span class="title">endwhile</span>; ?&gt;</span></span><br><span class="line"><span class="class">                &lt;/<span class="title">tbody</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;/<span class="title">table</span>&gt;</span></span><br><span class="line"><span class="class">            </span></span><br><span class="line"><span class="class">            &lt;!-- 分页导航 --&gt;</span></span><br><span class="line"><span class="class">            &lt;?<span class="title">php</span> <span class="title">if</span> ($<span class="title">totalPages</span> &gt; 1): ?&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">div</span> <span class="title">class</span>=&quot;<span class="title">pagination</span>&quot;&gt;</span></span><br><span class="line"><span class="class">                    &lt;?<span class="title">php</span> <span class="title">if</span> ($<span class="title">page</span> &gt; 1): ?&gt;</span></span><br><span class="line"><span class="class">                        &lt;<span class="title">a</span> <span class="title">href</span>=&quot;?&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">buildQueryString</span>(1); ?&gt;&quot;&gt;首页&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">                        &lt;<span class="title">a</span> <span class="title">href</span>=&quot;?&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">buildQueryString</span>($<span class="title">page</span> - 1); ?&gt;&quot;&gt;上一页&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">                    &lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;</span></span><br><span class="line"><span class="class">                    </span></span><br><span class="line"><span class="class">                    &lt;?<span class="title">php</span> </span></span><br><span class="line"><span class="class">                    // 智能显示页码</span></span><br><span class="line"><span class="class">                    $<span class="title">startPage</span> = <span class="title">max</span>(1, $<span class="title">page</span> - 2);</span></span><br><span class="line"><span class="class">                    $<span class="title">endPage</span> = <span class="title">min</span>($<span class="title">totalPages</span>, $<span class="title">page</span> + 2);</span></span><br><span class="line"><span class="class">                    <span class="title">if</span> ($<span class="title">startPage</span> &gt; 1) <span class="title">echo</span> &#x27;&lt;<span class="title">span</span>&gt;...&lt;/<span class="title">span</span>&gt;&#x27;;</span></span><br><span class="line"><span class="class">                    </span></span><br><span class="line"><span class="class">                    <span class="title">for</span> ($<span class="title">i</span> = $<span class="title">startPage</span>; $<span class="title">i</span> &lt;= $<span class="title">endPage</span>; $<span class="title">i</span>++): </span></span><br><span class="line"><span class="class">                        <span class="title">if</span> ($<span class="title">i</span> == $<span class="title">page</span>): </span></span><br><span class="line"><span class="class">                            <span class="title">echo</span> &#x27;&lt;<span class="title">span</span> <span class="title">class</span>=&quot;<span class="title">current</span>&quot;&gt;&#x27; . $<span class="title">i</span> . &#x27;&lt;/<span class="title">span</span>&gt;&#x27;;</span></span><br><span class="line"><span class="class">                        <span class="title">else</span>: </span></span><br><span class="line"><span class="class">                            <span class="title">echo</span> &#x27;&lt;<span class="title">a</span> <span class="title">href</span>=&quot;?&#x27;.<span class="title">buildQueryString</span>($<span class="title">i</span>).&#x27;&quot;&gt;&#x27;.$<span class="title">i</span>.&#x27;&lt;/<span class="title">a</span>&gt;&#x27;;</span></span><br><span class="line"><span class="class">                        <span class="title">endif</span>;</span></span><br><span class="line"><span class="class">                    <span class="title">endfor</span>;</span></span><br><span class="line"><span class="class">                    </span></span><br><span class="line"><span class="class">                    <span class="title">if</span> ($<span class="title">endPage</span> &lt; $<span class="title">totalPages</span>) <span class="title">echo</span> &#x27;&lt;<span class="title">span</span>&gt;...&lt;/<span class="title">span</span>&gt;&#x27;;</span></span><br><span class="line"><span class="class">                    ?&gt;</span></span><br><span class="line"><span class="class">                    </span></span><br><span class="line"><span class="class">                    &lt;?<span class="title">php</span> <span class="title">if</span> ($<span class="title">page</span> &lt; $<span class="title">totalPages</span>): ?&gt;</span></span><br><span class="line"><span class="class">                        &lt;<span class="title">a</span> <span class="title">href</span>=&quot;?&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">buildQueryString</span>($<span class="title">page</span> + 1); ?&gt;&quot;&gt;下一页&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">                        &lt;<span class="title">a</span> <span class="title">href</span>=&quot;?&lt;?<span class="title">php</span> <span class="title">echo</span> <span class="title">buildQueryString</span>($<span class="title">totalPages</span>); ?&gt;&quot;&gt;末页&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="class">                    &lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;</span></span><br><span class="line"><span class="class">                &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;</span></span><br><span class="line"><span class="class">        &lt;?<span class="title">php</span> <span class="title">else</span>: ?&gt;</span></span><br><span class="line"><span class="class">            &lt;<span class="title">div</span> <span class="title">class</span>=&quot;<span class="title">no</span>-<span class="title">results</span>&quot;&gt;</span></span><br><span class="line"><span class="class">                &lt;?<span class="title">php</span> <span class="title">if</span> (!<span class="title">empty</span>($<span class="title">s_id</span>) || !<span class="title">empty</span>($<span class="title">s_student</span>) || !<span class="title">empty</span>($<span class="title">department</span>)): ?&gt;</span></span><br><span class="line"><span class="class">                    没有找到符合条件的学生记录。</span></span><br><span class="line"><span class="class">                &lt;?<span class="title">php</span> <span class="title">else</span>: ?&gt;</span></span><br><span class="line"><span class="class">                    暂无学生数据，请先在数据库中插入数据。</span></span><br><span class="line"><span class="class">                &lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;</span></span><br><span class="line"><span class="class">            &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;?<span class="title">php</span> <span class="title">endif</span>; ?&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    &lt;<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">        // 重置表单并刷新页面</span></span><br><span class="line"><span class="class">        <span class="title">function</span> <span class="title">clearForm</span>() </span>&#123;</span><br><span class="line">            <span class="comment">// 清空输入框</span></span><br><span class="line">            document.<span class="title function_ invoke__">getElementById</span>(<span class="string">&#x27;s_id&#x27;</span>).value = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            document.<span class="title function_ invoke__">getElementById</span>(<span class="string">&#x27;s_student&#x27;</span>).value = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            document.<span class="title function_ invoke__">getElementById</span>(<span class="string">&#x27;department&#x27;</span>).value = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            <span class="comment">// 刷新页面，清除URL中的参数</span></span><br><span class="line">            window.location.href = <span class="string">&#x27;ex5.php&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="实验六php和ajax技术"><a class="markdownIt-Anchor" href="#实验六php和ajax技术"></a> 实验六：PHP和Ajax技术</h2>
<h3 id="实验目的"><a class="markdownIt-Anchor" href="#实验目的-6"></a> 实验目的</h3>
<ol>
<li>掌握AJAX的工作原理</li>
<li>掌握PHP中实现AJAX的过程和方法</li>
</ol>
<h3 id="实验内容"><a class="markdownIt-Anchor" href="#实验内容-6"></a> 实验内容</h3>
<p>由用户指定查询条件，使用AJAX技术，在PHP网页中实现数据库查询操作代码部分的响应刷新</p>
<h3 id="实验代码"><a class="markdownIt-Anchor" href="#实验代码-6"></a> 实验代码</h3>
<h4 id="ex6_1php"><a class="markdownIt-Anchor" href="#ex6_1php"></a> ex6_1.php</h4>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;zh-CN&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;院系学生信息查询&lt;/title&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        body &#123; font-family: <span class="string">&#x27;Microsoft YaHei&#x27;</span>, sans-serif; margin: <span class="number">20</span>px; background-color: <span class="comment">#f9f9f9; &#125;</span></span><br><span class="line">        .container &#123; max-width: <span class="number">800</span>px; margin: <span class="number">0</span> auto; background-color: <span class="comment">#fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); &#125;</span></span><br><span class="line">        h2 &#123; color: <span class="comment">#333; text-align: center; &#125;</span></span><br><span class="line">        label &#123; font-weight: bold; &#125;</span><br><span class="line">        table &#123; width: <span class="number">100</span>%; margin-top: <span class="number">20</span>px; border-collapse: collapse; &#125;</span><br><span class="line">        th, td &#123; padding: <span class="number">12</span>px; border: <span class="number">1</span>px solid <span class="comment">#ddd; text-align: center; &#125;</span></span><br><span class="line">        th &#123; background-color: <span class="comment">#4CAF50; color: white; &#125;</span></span><br><span class="line">        tr:nth-<span class="title function_ invoke__">child</span>(even) &#123; background-color: <span class="comment">#f2f2f2; &#125;</span></span><br><span class="line">        <span class="comment">#loading &#123; text-align: center; color: #888; display: none; &#125;</span></span><br><span class="line">        .no-data &#123; text-align: center; color: <span class="comment">#888; &#125;</span></span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">container</span>&quot;&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">h2</span>&gt;院系学生信息查询&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;<span class="title">label</span> <span class="title">for</span>=&quot;<span class="title">departmentSelect</span>&quot;&gt;请指定院系：&lt;/<span class="title">label</span>&gt;&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;<span class="title">select</span> <span class="title">id</span>=&quot;<span class="title">departmentSelect</span>&quot;&gt;</span></span><br><span class="line"><span class="class">                &lt;<span class="title">option</span> <span class="title">value</span>=&quot;&quot;&gt;-- 请选择院系 --&lt;/<span class="title">option</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">                $<span class="title">servername</span> = &quot;<span class="title">localhost</span>&quot;;</span></span><br><span class="line"><span class="class">                $<span class="title">username</span> = &quot;<span class="title">ex6</span>&quot;;</span></span><br><span class="line"><span class="class">                $<span class="title">password</span> = &quot;<span class="title">admin123</span>&quot;; // 请修改为您的密码</span></span><br><span class="line"><span class="class">                $<span class="title">dbname</span> = &quot;<span class="title">ex6</span>&quot;;</span></span><br><span class="line"><span class="class">                </span></span><br><span class="line"><span class="class">                $<span class="title">conn</span> = <span class="title">new</span> <span class="title">mysqli</span>($<span class="title">servername</span>, $<span class="title">username</span>, $<span class="title">password</span>, $<span class="title">dbname</span>);</span></span><br><span class="line"><span class="class">                <span class="title">if</span> ($<span class="title">conn</span>-&gt;<span class="title">connect_error</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">die</span>(<span class="string">&quot;数据库连接失败: &quot;</span> . <span class="variable">$conn</span>-&gt;connect_error);</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="variable">$sql</span> = <span class="string">&quot;SELECT DISTINCT department FROM student ORDER BY department&quot;</span>;</span><br><span class="line">                <span class="variable">$result</span> = <span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$sql</span>);</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (<span class="variable">$result</span>-&gt;num_rows &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">while</span>(<span class="variable">$row</span> = <span class="variable">$result</span>-&gt;<span class="title function_ invoke__">fetch_assoc</span>()) &#123;</span><br><span class="line">                        <span class="keyword">echo</span> <span class="string">&quot;&lt;option value=&#x27;&quot;</span> . <span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$row</span>[<span class="string">&quot;department&quot;</span>]) . <span class="string">&quot;&#x27;&gt;&quot;</span> . <span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$row</span>[<span class="string">&quot;department&quot;</span>]) . <span class="string">&quot;&lt;/option&gt;&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">close</span>();</span><br><span class="line">                <span class="meta">?&gt;</span></span><br><span class="line">            &lt;/select&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;div id=<span class="string">&quot;loading&quot;</span>&gt;正在加载数据...&lt;/div&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;table id=<span class="string">&quot;studentTable&quot;</span>&gt;</span><br><span class="line">            &lt;thead&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;th&gt;学号&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;姓名&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;院系&lt;/th&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">            &lt;/thead&gt;</span><br><span class="line">            &lt;tbody id=<span class="string">&quot;studentTableBody&quot;</span>&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;td colspan=<span class="string">&quot;3&quot;</span> <span class="class"><span class="keyword">class</span>=&quot;<span class="title">no</span>-<span class="title">data</span>&quot;&gt;请从上方菜单选择一个院系&lt;/<span class="title">td</span>&gt;</span></span><br><span class="line"><span class="class">                &lt;/<span class="title">tr</span>&gt;</span></span><br><span class="line"><span class="class">            &lt;/<span class="title">tbody</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;/<span class="title">table</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    &lt;<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="class">        $(<span class="title">document</span>).<span class="title">ready</span>(<span class="title">function</span>()</span>&#123;</span><br><span class="line">            $(<span class="string">&quot;#departmentSelect&quot;</span>).<span class="title function_ invoke__">change</span>(function()&#123;</span><br><span class="line">                <span class="keyword">var</span> selectedDept = $(this).<span class="title function_ invoke__">val</span>();</span><br><span class="line">                <span class="keyword">if</span> (selectedDept === <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">                    $(<span class="string">&quot;#studentTableBody&quot;</span>).<span class="title function_ invoke__">html</span>(<span class="string">&#x27;&lt;tr&gt;&lt;td colspan=&quot;3&quot; class=&quot;no-data&quot;&gt;请从上方菜单选择一个院系&lt;/td&gt;&lt;/tr&gt;&#x27;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                $(<span class="string">&quot;#loading&quot;</span>).<span class="title function_ invoke__">show</span>();</span><br><span class="line">                $(<span class="string">&quot;#studentTableBody&quot;</span>).<span class="title function_ invoke__">hide</span>();</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// 核心：确保AJAX请求正确发送了&#x27;department&#x27;参数</span></span><br><span class="line">                $.<span class="title function_ invoke__">ajax</span>(&#123;</span><br><span class="line">                    <span class="attr">url</span>: <span class="string">&quot;ex6_2.php&quot;</span>,</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">                    <span class="attr">data</span>: &#123; <span class="attr">department</span>: selectedDept &#125;, // &lt;--- 检查这里</span><br><span class="line">                    <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">                    <span class="attr">success</span>: function(response)&#123;</span><br><span class="line">                        <span class="keyword">var</span> htmlContent = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                        <span class="keyword">if</span> (response.success &amp;&amp; response.data.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                            $.<span class="title function_ invoke__">each</span>(response.data, function(index, student)&#123;</span><br><span class="line">                                htmlContent += <span class="string">&quot;&lt;tr&gt;&quot;</span>;</span><br><span class="line">                                htmlContent += <span class="string">&quot;&lt;td&gt;&quot;</span> + student.S_id + <span class="string">&quot;&lt;/td&gt;&quot;</span>;</span><br><span class="line">                                htmlContent += <span class="string">&quot;&lt;td&gt;&quot;</span> + student.S_student + <span class="string">&quot;&lt;/td&gt;&quot;</span>;</span><br><span class="line">                                htmlContent += <span class="string">&quot;&lt;td&gt;&quot;</span> + student.department + <span class="string">&quot;&lt;/td&gt;&quot;</span>;</span><br><span class="line">                                htmlContent += <span class="string">&quot;&lt;/tr&gt;&quot;</span>;</span><br><span class="line">                            &#125;);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            htmlContent = <span class="string">&#x27;&lt;tr&gt;&lt;td colspan=&quot;3&quot; class=&quot;no-data&quot;&gt;该院系暂无学生信息&lt;/td&gt;&lt;/tr&gt;&#x27;</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        </span><br><span class="line">                        $(<span class="string">&quot;#studentTableBody&quot;</span>).<span class="title function_ invoke__">html</span>(htmlContent);</span><br><span class="line">                        $(<span class="string">&quot;#loading&quot;</span>).<span class="title function_ invoke__">hide</span>();</span><br><span class="line">                        $(<span class="string">&quot;#studentTableBody&quot;</span>).<span class="title function_ invoke__">fadeIn</span>();</span><br><span class="line">                    &#125;,</span><br><span class="line">                    error: <span class="function"><span class="keyword">function</span>(<span class="params">jqXHR, textStatus, errorThrown</span>)</span>&#123;</span><br><span class="line">                        console.<span class="title function_ invoke__">error</span>(<span class="string">&quot;AJAX Error: &quot;</span>, textStatus, errorThrown);</span><br><span class="line">                        $(<span class="string">&quot;#loading&quot;</span>).<span class="title function_ invoke__">hide</span>();</span><br><span class="line">                        $(<span class="string">&quot;#studentTableBody&quot;</span>).<span class="title function_ invoke__">fadeIn</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="ex6_2php"><a class="markdownIt-Anchor" href="#ex6_2php"></a> ex6_2.php</h4>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">&#x27;Content-Type: application/json; charset=utf-8&#x27;</span>);</span><br><span class="line"><span class="variable">$servername</span> = <span class="string">&quot;localhost&quot;</span>;</span><br><span class="line"><span class="variable">$username</span> = <span class="string">&quot;ex6&quot;</span>;</span><br><span class="line"><span class="variable">$password</span> = <span class="string">&quot;admin123&quot;</span>; <span class="comment">// 请修改为您的密码</span></span><br><span class="line"><span class="variable">$dbname</span> = <span class="string">&quot;ex6&quot;</span>;</span><br><span class="line"><span class="variable">$conn</span> = <span class="keyword">new</span> <span class="title function_ invoke__">mysqli</span>(<span class="variable">$servername</span>, <span class="variable">$username</span>, <span class="variable">$password</span>, <span class="variable">$dbname</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$conn</span>-&gt;connect_error) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">json_encode</span>([<span class="string">&#x27;success&#x27;</span> =&gt; <span class="literal">false</span>, <span class="string">&#x27;message&#x27;</span> =&gt; <span class="string">&#x27;数据库连接失败: &#x27;</span> . <span class="variable">$conn</span>-&gt;connect_error]);</span><br><span class="line">    <span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 增强的参数检查</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;department&#x27;</span>]) &amp;&amp; !<span class="keyword">empty</span>(<span class="title function_ invoke__">trim</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;department&#x27;</span>]))) &#123;</span><br><span class="line">    <span class="variable">$department</span> = <span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">real_escape_string</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;department&#x27;</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="variable">$sql</span> = <span class="string">&quot;SELECT S_id, S_student, department FROM student WHERE department = ?&quot;</span>;</span><br><span class="line">    <span class="variable">$stmt</span> = <span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">prepare</span>(<span class="variable">$sql</span>);</span><br><span class="line">    <span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">bind_param</span>(<span class="string">&quot;s&quot;</span>, <span class="variable">$department</span>);</span><br><span class="line">    <span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">execute</span>();</span><br><span class="line">    <span class="variable">$result</span> = <span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">get_result</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="variable">$students</span> = <span class="keyword">array</span>();</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$result</span>-&gt;num_rows &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="variable">$row</span> = <span class="variable">$result</span>-&gt;<span class="title function_ invoke__">fetch_assoc</span>()) &#123;</span><br><span class="line">            <span class="variable">$students</span>[] = <span class="variable">$row</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">echo</span> <span class="title function_ invoke__">json_encode</span>([<span class="string">&#x27;success&#x27;</span> =&gt; <span class="literal">true</span>, <span class="string">&#x27;data&#x27;</span> =&gt; <span class="variable">$students</span>]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="title function_ invoke__">json_encode</span>([<span class="string">&#x27;success&#x27;</span> =&gt; <span class="literal">true</span>, <span class="string">&#x27;data&#x27;</span> =&gt; []]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">close</span>();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 返回更明确的错误信息</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">json_encode</span>([<span class="string">&#x27;success&#x27;</span> =&gt; <span class="literal">false</span>, <span class="string">&#x27;message&#x27;</span> =&gt; <span class="string">&#x27;缺少院系参数或参数为空&#x27;</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">close</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<p>以上内容由AI生成，仅供参考和借鉴</p>
</article></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s3.bmp.ovh/imgs/2024/10/12/ab3f0e20e95418fd.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Astronomia001</div><div class="author-info__description">各位早上中午晚上好！</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC3%E8%AE%B2-javascript%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text"> 第3讲 JavaScript基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#31-javascript%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text"> 3.1 JavaScript简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#32-javascript%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.2.</span> <span class="toc-text"> 3.2 JavaScript内置对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E7%AB%A0%E6%80%BB%E7%BB%93"><span class="toc-number">2.</span> <span class="toc-text"> 本章总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#php%E5%AE%9E%E9%AA%8C%E4%BB%A3%E7%A0%81%E5%90%88%E9%9B%86"><span class="toc-number"></span> <span class="toc-text"> PHP实验代码合集</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%B8%80php%E6%95%B0%E7%BB%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number"></span> <span class="toc-text"> 实验一：PHP数组基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84"><span class="toc-number">1.</span> <span class="toc-text"> 实验目的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9"><span class="toc-number">2.</span> <span class="toc-text"> 实验内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">3.</span> <span class="toc-text"> 实验代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BA%8Cphp%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80"><span class="toc-number"></span> <span class="toc-text"> 实验二：PHP语法基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84"><span class="toc-number">1.</span> <span class="toc-text"> 实验目的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9"><span class="toc-number">2.</span> <span class="toc-text"> 实验内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">3.</span> <span class="toc-text"> 实验代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%B8%89php%E5%92%8Chtml%E4%BA%A4%E4%BA%92%E5%8F%8A%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number"></span> <span class="toc-text"> 实验三：PHP和Html交互及函数的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84"><span class="toc-number">1.</span> <span class="toc-text"> 实验目的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9"><span class="toc-number">2.</span> <span class="toc-text"> 实验内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">3.</span> <span class="toc-text"> 实验代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ex3_1php"><span class="toc-number">3.1.</span> <span class="toc-text"> ex3_1.php</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ex3_2php"><span class="toc-number">3.2.</span> <span class="toc-text"> ex3_2.php</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%9B%9Bphp%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="toc-number"></span> <span class="toc-text"> 实验四：PHP数据处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84"><span class="toc-number">1.</span> <span class="toc-text"> 实验目的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9"><span class="toc-number">2.</span> <span class="toc-text"> 实验内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">3.</span> <span class="toc-text"> 实验代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ex4_3php%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81"><span class="toc-number">3.1.</span> <span class="toc-text"> ex4_3.php（表单验证）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ex4_4php%E6%8A%95%E7%A5%A8%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.2.</span> <span class="toc-text"> ex4_4.php（投票系统）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ex4_5php%E5%B9%B4%E9%BE%84%E8%AE%A1%E7%AE%97"><span class="toc-number">3.3.</span> <span class="toc-text"> ex4_5.php（年龄计算）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BA%94php%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number"></span> <span class="toc-text"> 实验五：PHP和数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84"><span class="toc-number">1.</span> <span class="toc-text"> 实验目的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9"><span class="toc-number">2.</span> <span class="toc-text"> 实验内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">3.</span> <span class="toc-text"> 实验代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%85%ADphp%E5%92%8Cajax%E6%8A%80%E6%9C%AF"><span class="toc-number"></span> <span class="toc-text"> 实验六：PHP和Ajax技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84"><span class="toc-number">1.</span> <span class="toc-text"> 实验目的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9"><span class="toc-number">2.</span> <span class="toc-text"> 实验内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">3.</span> <span class="toc-text"> 实验代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ex6_1php"><span class="toc-number">3.1.</span> <span class="toc-text"> ex6_1.php</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ex6_2php"><span class="toc-number">3.2.</span> <span class="toc-text"> ex6_2.php</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/21/php%E5%A4%8D%E4%B9%A0/" title="PHP复习">PHP复习</a><time datetime="2025-11-21T01:29:28.000Z" title="发表于 2025-11-21 09:29:28">2025-11-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/06/NSSRound-29/" title="NSSRound#29">NSSRound#29</a><time datetime="2025-04-06T02:58:39.000Z" title="发表于 2025-04-06 10:58:39">2025-04-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/04/%E9%9D%92%E6%B5%B7%E6%B0%91%E6%97%8F%E5%A4%A7%E5%AD%A62025%E6%96%B0%E7%94%9F%E8%B5%9B/" title="青海民族大学2025新生赛">青海民族大学2025新生赛</a><time datetime="2025-04-04T13:40:17.000Z" title="发表于 2025-04-04 21:40:17">2025-04-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/18/misc-study/" title="misc_study">misc_study</a><time datetime="2025-01-18T11:46:20.000Z" title="发表于 2025-01-18 19:46:20">2025-01-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/16/crypto-study/" title="crypto_study">crypto_study</a><time datetime="2025-01-16T06:30:19.000Z" title="发表于 2025-01-16 14:30:19">2025-01-16</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Astronomia001</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>